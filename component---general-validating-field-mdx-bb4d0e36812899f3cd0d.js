(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{CwDx:function(e,a,t){e.exports=t.p+"static/validating-field-0137946c4c7ae0e8920d7b0dd491d5b1.gif"},"Rq/C":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return o})),t.d(a,"default",(function(){return r}));var n=t("Fcif"),l=t("+I+c"),i=t("/FXl"),s=t("TjRS"),o=(t("aD51"),{});void 0!==o&&o&&o===Object(o)&&Object.isExtensible(o)&&!o.hasOwnProperty("__filemeta")&&Object.defineProperty(o,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"general/validating-field.mdx"}});var c={_frontmatter:o},d=s.a;function r(e){var a=e.components,s=Object(l.a)(e,["components"]);return Object(i.b)(d,Object(n.a)({},c,s,{components:a,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"field-validation"},"Field Validation"),Object(i.b)("p",null,"Once we have our ValidationSchema defined and we have instantiated the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/fonk-doc/api#formvalidation"}),Object(i.b)("strong",{parentName:"a"},"FormValidation")),", it exposes\na method called ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/fonk-doc/api#validatefield"}),Object(i.b)("strong",{parentName:"a"},"validateField")),", this method allows us to validate a given field, the signature of this\nmethod:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-typescript"}),"  public validateField(fieldId: string, value: any,values?: any): Promise<ValidationResult>\n")),Object(i.b)("p",null,"In this method we pass as arguments:"),Object(i.b)("p",null,"- The name of the field we want to validate.\n- The current value of the field (usually we get this value for instance from a ",Object(i.b)("em",{parentName:"p"},"OnChange")," ",Object(i.b)("em",{parentName:"p"},"OnBlur")," input event args).\n- Optionally we can feed the whole record values (in some cases you need to feed the current form values, \ne.g. there is a ",Object(i.b)("em",{parentName:"p"},"requiredOnField")," value where a given field is required depending on another record field value)."),Object(i.b)("p",null,"And it returns:"),Object(i.b)("p",null,"- A promise (validateField is async) including the validation result, it can be succeeded if all validations associated to that field passed, or fail in case any of the associated validations\n  fail (in that case you get back an error message and a validation type)."),Object(i.b)("p",null,"The validations associated to a field are executed sequentially, starting from the one defined at index 0, the validation process stops as soon as one of the associated\nfield validations fail."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"You can find detailed information about this method in the ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/fonk-doc/api#validatefield"}),"api definition"),".")),Object(i.b)("p",null,"Let's get our hands wet:"),Object(i.b)("p",null,"We want to validate a login form, we have the following model:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const loginValues = {\n  user: '',\n  password: '1234',\n};\n")),Object(i.b)("p",null,"Let's define the following ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/fonk-doc/api#validationschema"}),Object(i.b)("strong",{parentName:"a"},"Validation Schema")),":"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"import { Validators, createFormValidation } from '@lemoncode/fonk';\n\nconst validationSchema = {\n  field: {\n    user: [\n      Validators.required,\n      {\n        validator: Validators.minLength,\n        customArgs: { length: 3 },\n      },\n    ],\n  },\n};\n\nconst formValidation = createFormValidation(validationSchema);\n")),Object(i.b)("p",null,"Let's call ",Object(i.b)("strong",{parentName:"p"},"validateField")," passing the ",Object(i.b)("em",{parentName:"p"},"user")," field and the empty string value:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const loginValues = {\n  user: '',\n  password: '1234',\n};\n\nformValidation\n  .validateField('user', loginValues.user)\n  .then(validationResult => {\n    console.log(validationResult);\n  });\n")),Object(i.b)("p",null,"The result that we get back:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),'{\n  "succeeded": false,\n  "message": "Please fill in this mandatory field.",\n  "type": "REQUIRED"\n}\n')),Object(i.b)("p",null,"That is: The validation failed, the field is required"),Object(i.b)("p",null,"Now let's try to validate this field passing as value the string 'a'"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const loginValues = {\n  user: 'a',\n  password: '1234',\n};\n\nformValidation\n  .validateField('user', loginValues.user)\n  .then(validationResult => {\n    console.log(validationResult);\n  });\n")),Object(i.b)("p",null,"The result that we get back:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),'{\n  "succeeded": false,\n  "message": "The value provided does not fulfill min length",\n  "type": "MIN_LENGTH"\n}\n')),Object(i.b)("p",null,"In this case ",Object(i.b)("em",{parentName:"p"},"required")," validation passed but ",Object(i.b)("em",{parentName:"p"},"minLength")," validation didn't pass."),Object(i.b)("p",null,"Finally, let' try to validate this field pass as value the string 'abc'."),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),"const loginValues = {\n  user: 'abc',\n  password: '1234',\n};\n\nformValidation\n  .validateField('user', loginValues.user)\n  .then(validationResult => {\n    console.log(validationResult);\n  });\n")),Object(i.b)("p",null,"The result that we get back:"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-javascript"}),'{\n  "succeeded": true,\n  "message": "",\n  "type": "MIN_LENGTH"\n}\n')),Object(i.b)("p",null,"In this case all field associated passed and we get as result validation succeeded."),Object(i.b)("p",null,Object(i.b)("img",{alt:"validating-field",src:t("CwDx")})),Object(i.b)("p",null,"Examples:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/docs/general/js/validating-field"}),"Plain Vanilla JS"),"."),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",Object(n.a)({parentName:"li"},{href:"https://codesandbox.io/s/github/lemoncode/fonk/tree/master/examples/docs/general/ts/validating-field"}),"Plain Vanilla TS"),".")),Object(i.b)("p",null,"Now that you know how to validate a field let's jump into adding ",Object(i.b)("a",Object(n.a)({parentName:"p"},{href:"/fonk-doc/validating-record"}),"record validations")))}void 0!==r&&r&&r===Object(r)&&Object.isExtensible(r)&&!r.hasOwnProperty("__filemeta")&&Object.defineProperty(r,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"general/validating-field.mdx"}}),r.isMDXComponent=!0}}]);
//# sourceMappingURL=component---general-validating-field-mdx-bb4d0e36812899f3cd0d.js.map